<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="zib-AdministrationAgreement"/>
  <url value="http://nictiz.nl/fhir/StructureDefinition/zib-AdministrationAgreement"/>
  <name value="ZibAdministrationAgreement"/>
  <title value="zib AdministrationAgreement"/>
  <status value="draft"/>
  <publisher value="Nictiz"/>
  <contact>
    <name value="Nictiz"/>
    <telecom>
      <system value="email"/>
      <value value="info@nictiz.nl"/>
      <use value="work"/>
    </telecom>
  </contact>
  <purpose value="This MedicationDispense resource represents the Dutch [zib ('Zorginformatiebouwsteen', i.e. Health and Care Information Model) ](https://zibs.nl/wiki/AdministrationAgreement-v1.0.3(2020EN))."/>
  <copyright value="Copyright and related rights waived via CC0, https://creativecommons.org/publicdomain/zero/1.0/. This does not apply to information from third parties, for example a medical terminology system. The implementer alone is responsible for identifying and obtaining any necessary licenses or authorizations to utilize third party IP in connection with the specification or otherwise."/>
  <fhirVersion value="4.0.1"/>
  <mapping>
    <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
    <uri value="https://zibs.nl/wiki/AdministrationAgreement-v1.0.3(2020EN)"/>
    <comment value="zib AdministrationAgreement-v1.0.3(2020EN)"/>
  </mapping>
  <kind value="resource"/>
  <abstract value="true"/>
  <type value="MedicationDispense"/>
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/MedicationDispense"/>
  <derivation value="constraint"/>
  <differential>
    <element id="MedicationDispense">
      <path value="MedicationDispense"/>
      <short value="AdministrationAgreement"/>
      <alias value="Toedieningsafspraak"/>
      <mapping>
        <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
        <map value="NL-CM:9.8.20132"/>
        <comment value="AdministrationAgreement"/>
      </mapping>
    </element>
    <element id="MedicationDispense.extension">
      <path value="MedicationDispense.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationDispense.extension:additionalInformation">
      <path value="MedicationDispense.extension" />
      <sliceName value="additionalInformation" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-AdministrationAgreement.AdditionalInformation" />
      </type>
    </element>
    <element id="MedicationDispense.extension:agreementReason">
      <path value="MedicationDispense.extension" />
      <sliceName value="agreementReason" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-AdministrationAgreement.AgreementReason" />
      </type>
    </element>
    <element id="MedicationDispense.extension:administrationAgreementDateTime">
      <path value="MedicationDispense.extension" />
      <sliceName value="administrationAgreementDateTime" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-AdministrationAgreement.AdministrationAgreementDateTime" />
      </type>
    </element>  
    <element id="MedicationDispense.extension:instructionsForUseDescription">
      <path value="MedicationDispense.extension" />
      <sliceName value="renderedDosageInstruction" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-RenderedDosageInstruction" />
      </type>
    </element>
    <element id="MedicationDispense.extension:periodOfUse">
      <path value="MedicationDispense.extension" />
      <sliceName value="periodOfUse" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-PeriodOfUse" />
      </type>
    </element>
    <element id="MedicationDispense.modifierExtension">
      <path value="MedicationDispense.modifierExtension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationDispense.modifierExtension:stopType">
      <path value="MedicationDispense.modifierExtension" />
      <sliceName value="stopType" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-StopType" />
      </type>
    </element>
    <element id="MedicationDispense.modifierExtension:repeatPeriodCyclicalSchedule">
      <path value="MedicationDispense.modifierExtension" />
      <sliceName value="repeatPeriodCyclicalSchedule" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-InstructionsForUse.RepeatPeriodCyclicalSchedule" />
      </type>
    </element>
    <element id="MedicationDispense.status">
      <path value="MedicationDispense.status"/>
      <short value="CanceledIndicator"/>
      <definition value="In the event of an error correction, this indicator is to be put on for the incorrect agreement."/>
      <alias value="GeannuleerdIndicator"/>
      <mapping>
        <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
        <map value="NL-CM:9.8.23034"/>
        <comment value="CanceledIndicator"/>
      </mapping>
    </element>
    <element id="MedicationDispense.medication[x]">
      <path value="MedicationDispense.medication[x]"/>
      <slicing>
        <discriminator>
          <type value="type"/>
          <path value="$this"/>
        </discriminator>
        <rules value="open"/>
      </slicing>
    </element>
    <element id="MedicationDispense.medication[x]:medicationReference">
      <path value="MedicationDispense.medicationReference"/>
      <sliceName value="medicationReference"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Medication"/>
        <targetProfile value="http://nictiz.nl/fhir/StructureDefinition/zib-PharmaceuticalProduct"/>
      </type>
    </element>
    <element id="MedicationDispense.performer">
      <path value="MedicationDispense.performer"/>
      <max value="1"/>
    </element>
    <element id="MedicationDispense.performer.actor">
      <path value="MedicationDispense.performer.actor"/>
      <short value="Supplier"/>
      <definition value="The supplier (pharmacist) that entered the administration agreement."/>
      <alias value="Verstrekker"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Practitioner"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/PractitionerRole"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Organization"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Patient"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Device"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/RelatedPerson"/>
        <targetProfile value="http://nictiz.nl/fhir/StructureDefinition/zib-HealthcareProvider-Organization"/>
      </type>
      <mapping>
        <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
        <map value="NL-CM:9.8.22097"/>
        <comment value="Supplier"/>
      </mapping>
    </element>
    <element id="MedicationDispense.authorizingPrescription">
      <path value="MedicationDispense.authorizingPrescription"/>
      <short value="MedicationAgreement"/>
      <definition value="Relationship to the medication agreement on which the administration agreement is based."/>
      <alias value="Medicatieafspraak"/>
      <mapping>
        <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
        <map value="NL-CM:9.8.22394"/>
        <comment value="MedicationAgreement"/>
      </mapping>
    </element>
    <element id="MedicationDispense.note">
      <path value="MedicationDispense.note"/>
      <short value="Comment"/>
      <definition value="Comments on the administration agreement."/>
      <alias value="Toelichting"/>
      <max value="1"/>
      <mapping>
        <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
        <map value="NL-CM:9.8.22275"/>
        <comment value="Comment"/>
      </mapping>
    </element>
    <element id="MedicationDispense.dosageInstruction">
      <path value="MedicationDispense.dosageInstruction"/>
      <short value="InstructionsForUse"/>
      <definition value="Instructions for administering the medication, e.g. dose and route of administration."/>
      <alias value="Gebruiksinstructie"/>
      <type>
        <code value="Dosage"/>
        <profile value="http://nictiz.nl/fhir/StructureDefinition/zib-InstructionsForUse.DosageInstructions"/>
      </type>
      <mapping>
        <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
        <map value="NL-CM:9.8.22098"/>
        <comment value="InstructionsForUse"/>
      </mapping>
    </element>
  </differential>
</StructureDefinition>
