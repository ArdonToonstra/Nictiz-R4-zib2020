<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="zib-MedicationUse" />
  <url value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicationUse" />
  <name value="ZibMedicationUse" />
  <title value="zib MedicationUse" />
  <status value="draft" />
  <publisher value="Nictiz" />
  <contact>
    <name value="Nictiz" />
    <telecom>
      <system value="email" />
      <value value="info@nictiz.nl" />
      <use value="work" />
    </telecom>
  </contact>
  <description value="MedicationUse is a statement on the historic, current or intended use of a certain medicine." />
  <purpose value="This MedicationStatement resource represents the Dutch [zib ('Zorginformatiebouwsteen', i.e. Health and Care Information Model) MedicationUse2-v1.1.1(2020EN)](https://zibs.nl/wiki/MedicationUse2-v1.1.1(2020EN))." />
  <copyright value="Copyright and related rights waived via CC0, https://creativecommons.org/publicdomain/zero/1.0/. This does not apply to information from third parties, for example a medical terminology system. The implementer alone is responsible for identifying and obtaining any necessary licenses or authorizations to utilize third party IP in connection with the specification or otherwise." />
  <fhirVersion value="4.0.1" />
  <mapping>
    <identity value="zib-medicationuse2-v1.1.1-2020EN" />
    <uri value="https://zibs.nl/wiki/MedicationUse2-v1.1.1(2020EN)" />
    <name value="zib MedicationUse2-v1.1.1(2020EN)" />
  </mapping>
  <mapping>
    <identity value="zib-timeinterval-v1.0-2020EN" />
    <uri value="https://zibs.nl/wiki/TimeInterval-v1.0(2020EN)" />
    <name value="zib TimeInterval-v1.0(2020EN)" />
  </mapping>
  <kind value="resource" />
  <abstract value="true" />
  <type value="MedicationStatement" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/MedicationStatement" />
  <derivation value="constraint" />
  <differential>
    <element id="MedicationStatement">
      <path value="MedicationStatement" />
      <short value="MedicationUse" />
      <alias value="MedicatieGebruik" />
      <mapping>
        <identity value="zib-medicationuse2-v1.1.1-2020EN" />
        <map value="NL-CM:9.11.21338" />
        <comment value="MedicationUse" />
      </mapping>
    </element>
    <element id="MedicationStatement.extension">
      <path value="MedicationStatement.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationStatement.extension:renderedDosageInstruction">
      <path value="MedicationStatement.extension" />
      <sliceName value="renderedDosageInstruction" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-RenderedDosageInstruction" />
      </type>
    </element>
    <element id="MedicationStatement.extension:periodOfUseDuration">
      <path value="MedicationStatement.extension" />
      <sliceName value="periodOfUseDuration" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-PeriodOfUse-Duration" />
      </type>
    </element>
    <element id="MedicationStatement.extension:prescriber">
      <path value="MedicationStatement.extension" />
      <sliceName value="prescriber" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-MedicationUse.Prescriber" />
      </type>
    </element>
    <element id="MedicationStatement.extension:asAgreedIndicator">
      <path value="MedicationStatement.extension" />
      <sliceName value="asAgreedIndicator" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-MedicationUse.AsAgreedIndicator" />
      </type>
    </element>
    <element id="MedicationStatement.extension:asAgreedIndicator.value[x]">
      <path value="MedicationStatement.extension.value[x]" />
      <definition value="Duration: The intended duration of use. E.g. 5 days or 8 weeks. It is not allowed to indicate the duration in months, because different months have a variable duration in days." />
    </element>
    <element id="MedicationStatement.modifierExtension">
      <path value="MedicationStatement.modifierExtension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationStatement.modifierExtension:useIndicator">
      <path value="MedicationStatement.modifierExtension" />
      <sliceName value="useIndicator" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-MedicationUse.UseIndicator" />
      </type>
    </element>
    <element id="MedicationStatement.modifierExtension:stopType">
      <path value="MedicationStatement.modifierExtension" />
      <sliceName value="stopType" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-StopType" />
      </type>
    </element>
    <element id="MedicationStatement.modifierExtension:repeatPeriodCyclicalSchedule">
      <path value="MedicationStatement.modifierExtension" />
      <sliceName value="repeatPeriodCyclicalSchedule" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-InstructionsForUse.RepeatPeriodCyclicalSchedule" />
      </type>
    </element>
    <element id="MedicationStatement.status">
      <path value="MedicationStatement.status" />
      <short value="MedicationUseStopType" />
      <definition value="Stop type, the manner in which this medication is discontinued (temporary or definitive)." />
      <alias value="MedicatieGebruikStopType" />
      <mapping>
        <identity value="zib-medicationuse2-v1.1.1-2020EN" />
        <map value="NL-CM:9.11.23132" />
        <comment value="MedicationUseStopType" />
      </mapping>
    </element>
    <element id="MedicationStatement.statusReason">
      <path value="MedicationStatement.statusReason" />
      <short value="ReasonForChangeOrDiscontinuationOfUse" />
      <definition value="Reason for changing or discontinuing use of medication." />
      <alias value="RedenWijzigenOfStoppenGebruik" />
      <binding>
        <strength value="required" />
        <valueSet value="http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.9.11.2--20200901000000" />
      </binding>
      <mapping>
        <identity value="zib-medicationuse2-v1.1.1-2020EN" />
        <map value="NL-CM:9.11.22493" />
        <comment value="ReasonForChangeOrDiscontinuationOfUse" />
      </mapping>
    </element>
    <element id="MedicationStatement.category">
      <path value="MedicationStatement.category" />
      <min value="1" />
      <patternCodeableConcept>
        <coding>
          <system value="http://snomed.info/sct" />
          <code value="422979000" />
        </coding>
      </patternCodeableConcept>
    </element>
    <element id="MedicationStatement.medication[x]">
      <path value="MedicationStatement.medication[x]" />
      <slicing>
        <discriminator>
          <type value="type" />
          <path value="$this" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationStatement.medication[x]:medicationReference">
      <path value="MedicationStatement.medication[x]" />
      <sliceName value="medicationReference" />
      <short value="MedicationUse" />
      <alias value="MedicatieGebruik" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Medication" />
        <targetProfile value="http://nictiz.nl/fhir/StructureDefinition/zib-PharmaceuticalProduct" />
      </type>
      <mapping>
        <identity value="zib-medicationuse2-v1.1.1-2020EN" />
        <map value="NL-CM:9.11.21338" />
        <comment value="MedicationUse" />
      </mapping>
    </element>
    <element id="MedicationStatement.effective[x]">
      <path value="MedicationStatement.effective[x]" />
      <slicing>
        <discriminator>
          <type value="type" />
          <path value="$this" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationStatement.effective[x]:effectivePeriod">
      <path value="MedicationStatement.effective[x]" />
      <sliceName value="effectivePeriod" />
      <short value="PeriodOfUse" />
      <definition value="Medication use can be recorded for a certain moment or over a certain period. Thus, medication use can be recorded multiple times during the use of medication. The usage period is the period or moment over which the data is recorded.&#xA;**Start date:** This is the time at which the agreement was to take effect (or took effect or will take effect). &#xA;**End date:** The time at which the period of use ends (or ended or will end). To avoid confusion between 'to' and 'up to', the submission of time is always mandatory for the end date." />
      <alias value="Gebruiksperiode" />
      <type>
        <code value="Period" />
      </type>
      <mapping>
        <identity value="zib-medicationuse2-v1.1.1-2020EN" />
        <map value="NL-CM:9.11.22663" />
        <comment value="PeriodOfUse" />
      </mapping>
    </element>
    <element id="MedicationStatement.dateAsserted">
      <path value="MedicationStatement.dateAsserted" />
      <short value="MedicationUseDateTime" />
      <definition value="Date on which this use is entered." />
      <alias value="MedicatieGebruikDatumTijd" />
      <mapping>
        <identity value="zib-medicationuse2-v1.1.1-2020EN" />
        <map value="NL-CM:9.11.22398" />
        <comment value="MedicationUseDateTime" />
      </mapping>
    </element>
    <element id="MedicationStatement.reasonCode">
      <path value="MedicationStatement.reasonCode" />
      <max value="1" />
    </element>
    <element id="MedicationStatement.reasonCode.text">
      <path value="MedicationStatement.reasonCode.text" />
      <short value="ReasonForUse" />
      <definition value="The reason for using the medication, particularly in self-care medicine purchased by the patient themselves." />
      <alias value="RedenGebruik" />
      <mapping>
        <identity value="zib-medicationuse2-v1.1.1-2020EN" />
        <map value="NL-CM:9.11.22491" />
        <comment value="ReasonForUse" />
      </mapping>
    </element>
    <element id="MedicationStatement.note">
      <path value="MedicationStatement.note" />
      <max value="1" />
    </element>
    <element id="MedicationStatement.note.text">
      <path value="MedicationStatement.note.text" />
      <short value="Comment" />
      <definition value="Comments on the medication use." />
      <alias value="Toelichting" />
      <mapping>
        <identity value="zib-medicationuse2-v1.1.1-2020EN" />
        <map value="NL-CM:9.11.21624" />
        <comment value="Comment" />
      </mapping>
    </element>
    <element id="MedicationStatement.dosage">
      <path value="MedicationStatement.dosage" />
      <short value="InstructionsForUse" />
      <definition value="Instructions for the use of the medication, e.g. dose and route of administration. In the event of medication use, this is the pattern of use established by the patient or which the patient followed." />
      <alias value="Gebruiksinstructie" />
      <type>
        <code value="Dosage" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/nl-core-InstructionsForUse.DosageInstructions" />
      </type>
      <mapping>
        <identity value="zib-medicationuse2-v1.1.1-2020EN" />
        <map value="NL-CM:9.11.22504" />
        <comment value="InstructionsForUse" />
      </mapping>
    </element>
  </differential>
</StructureDefinition>