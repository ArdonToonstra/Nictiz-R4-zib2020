ext-zib-LanguageProficiency-CommunicationDetails:
  zib deviations:
    Extension.value[x]:
      - cardinality: 0..1
        reason: FHIR restricts Extension.value to a max cardinality of 0..1. To use it more than once, the extension should be added 0..* in the hosting element.
zib-Patient:
  zib deviations:
    Patient.extension:nationality.extension:code.value[x]:
      - cardinality: 1..1
        reason: The used extension uses a cardinality of 1..1 on the value[x] element. However, the extension itself is added with a cardinality of 0..1.
    Patient.name:
      - cardinality: 0..*
        reason: The cardinality mismatch between the zib (0..1) and FHIR (0..*) is explained by the presence of the HumanName.use element. A full name can be broken into parts using multiple instances of HumanName that have its own value for use. Documented in the profile too.
      - datatype: HumanName
        reason: A name in FHIR is represented using the HumanName datatype, not as a separate resource.
    Patient.telecom:
      - short: ContactInformation
        reason: The element represents both the zib HealthcareProvider concept ContactInformation as well as the root concept of the zib ContactInformation, due to the way the latter is mapped onto two profiles. Conceptually this represents the same concept, hence short can simple be "ContactInformation".
    Patient.address:
      - datatype: Address
        reason: An address in FHIR is represented using the Address datatype, not as a separate resource.

zib-AddressInformation:
  zib deviations:
    Address.line.extension:houseNumberIndication.value[x]:
      - datatype: string
        reason: The mapping of zib AddressInformation on the FHIR Address datatype is the result of compatibility with HL7v3, which is the format that a lot of healthcare data in the Netherlands is stored in.  As a result of this, the zib HouseNumberIndication concept with CD datatype is mapped to a FHIR string datatype with a constraint added (the value can only be 'by' or 'to').

zib-ContactInformation-E-mailAddresses:
  ignored issues:
    StructureDefinition:
      - message: sd-pg-08
        reason: The profiling guidelines assume the dashes from the id are replaced by spaces. However, "E-mail" from the zib name introduces a dash that's not part of the id.
zib-ContactInformation-TelephoneNumbers:
  zib deviations:
    ContactPoint.system:
      - cardinality: 1..1
        reason: Although TelecomType and NumberType are optional in the zib, ContactPoint.system is used to identify the TelephoneNumbers concept itself when this datatype is added to a profile. If only a telephone number is given without TelecomType and NumberType, this will fall in the default slice of the profile.

zib-ContactPerson:
  zib deviations:
    RelatedPerson.name:
      - cardinality: 0..*
        reason: The cardinality mismatch between the zib (0..1) and FHIR (0..*) is explained by the presence of the HumanName.use element. A full name can be broken into parts using multiple instances of HumanName that have its own value for use. Documented in the profile too.
      - datatype: HumanName
        reason: A name in FHIR is represented using the HumanName datatype, not as a separate resource.
    RelatedPerson.telecom:
      - short: ContactInformation
        reason: The element represents both the zib HealthcareProvider concept ContactInformation as well as the root concept of the zib ContactInformation, due to the way the latter is mapped onto two profiles. Conceptually this represents the same concept, hence short can simple be "ContactInformation".^M
    RelatedPerson.address:
      - datatype: Address
        reason: An address in FHIR is represented using the Address datatype, not as a separate resource.

zib-HealthcareProvider-Organization:
  zib deviations:
    Organization.telecom:
      - short: ContactInformation
        reason: The element represents both the zib HealthcareProvider concept ContactInformation as well as the root concept of the zib ContactInformation, due to the way the latter is mapped onto two profiles. Conceptually this represents the same concept, hence short can simple be "ContactInformation".
    Organization.address:
      - datatype: Address
        reason: An address in FHIR is represented using the Address datatype, not as a separate resource.

zib-HealthProfessional-Practitioner:
  zib deviations:
    Practitioner.name:
      - cardinality: 0..*
        reason: The cardinality mismatch between the zib (0..1) and FHIR (0..*) is explained by the presence of the HumanName.use element. A full name can be broken into parts using multiple instances of HumanName that have its own value for use. Documented in the profile too.
      - datatype: HumanName
        reason: A name in FHIR is represented using the HumanName datatype, not as a separate resource.
    Practitioner.telecom:
      - cardinality: 0..*
        reason: The cardinality mismatch between the zib (0..1) and FHIR (0..*) is explained by the missing root element of zib part ContactInformation in FHIR. Instead, the two containers of the zib (TelephoneNumbers and EmailAddresses), which both have a cardinality of 0..*, are mapped directly into the resource. Thereby still honoring the cardinality requirements of the zib.
      - short: ContactInformation
        reason: The element represents both the zib HealthcareProvider concept ContactInformation as well as the root concept of the zib ContactInformation, due to the way the latter is mapped onto two profiles. Conceptually this represents the same concept, hence short can simple be "ContactInformation".^M
    Practitioner.address:
      - datatype: Address
        reason: An address in FHIR is represented using the Address datatype, not as a separate resource.

zib-HealthProfessional-PractitionerRole:
  zib deviations:
    PractitionerRole.telecom:
      - cardinality: 0..*
        reason: The cardinality mismatch between the zib (0..1) and FHIR (0..*) is explained by the missing root element of zib part ContactInformation in FHIR. Instead, the two containers of the zib (TelephoneNumbers and EmailAddresses), which both have a cardinality of 0..*, are mapped directly into the resource. Thereby still honoring the cardinality requirements of the zib.
